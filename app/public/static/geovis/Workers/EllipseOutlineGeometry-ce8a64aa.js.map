{"version":3,"file":"EllipseOutlineGeometry-ce8a64aa.js","sources":["../../../../Source/Core/EllipseOutlineGeometry.js"],"sourcesContent":["import arrayFill from './arrayFill.js';\r\nimport BoundingSphere from './BoundingSphere.js';\r\nimport Cartesian3 from './Cartesian3.js';\r\nimport ComponentDatatype from './ComponentDatatype.js';\r\nimport defaultValue from './defaultValue.js';\r\nimport defined from './defined.js';\r\nimport DeveloperError from './DeveloperError.js';\r\nimport EllipseGeometryLibrary from './EllipseGeometryLibrary.js';\r\nimport Ellipsoid from './Ellipsoid.js';\r\nimport Geometry from './Geometry.js';\r\nimport GeometryAttribute from './GeometryAttribute.js';\r\nimport GeometryAttributes from './GeometryAttributes.js';\r\nimport GeometryOffsetAttribute from './GeometryOffsetAttribute.js';\r\nimport IndexDatatype from './IndexDatatype.js';\r\nimport CesiumMath from './Math.js';\r\nimport PrimitiveType from './PrimitiveType.js';\r\n\r\n    var scratchCartesian1 = new Cartesian3();\r\n    var boundingSphereCenter = new Cartesian3();\r\n\r\n    function computeEllipse(options) {\r\n        var center = options.center;\r\n        boundingSphereCenter = Cartesian3.multiplyByScalar(options.ellipsoid.geodeticSurfaceNormal(center, boundingSphereCenter), options.height, boundingSphereCenter);\r\n        boundingSphereCenter = Cartesian3.add(center, boundingSphereCenter, boundingSphereCenter);\r\n        var boundingSphere = new BoundingSphere(boundingSphereCenter, options.semiMajorAxis);\r\n        var positions = EllipseGeometryLibrary.computeEllipsePositions(options, false, true).outerPositions;\r\n\r\n        var attributes = new GeometryAttributes({\r\n            position: new GeometryAttribute({\r\n                componentDatatype : ComponentDatatype.DOUBLE,\r\n                componentsPerAttribute : 3,\r\n                values : EllipseGeometryLibrary.raisePositionsToHeight(positions, options, false)\r\n            })\r\n        });\r\n\r\n        var length = positions.length / 3;\r\n        var indices = IndexDatatype.createTypedArray(length, length * 2);\r\n        var index = 0;\r\n        for ( var i = 0; i < length; ++i) {\r\n            indices[index++] = i;\r\n            indices[index++] = (i + 1) % length;\r\n        }\r\n\r\n        return {\r\n            boundingSphere : boundingSphere,\r\n            attributes : attributes,\r\n            indices : indices\r\n        };\r\n    }\r\n\r\n    var topBoundingSphere = new BoundingSphere();\r\n    var bottomBoundingSphere = new BoundingSphere();\r\n    function computeExtrudedEllipse(options) {\r\n        var center = options.center;\r\n        var ellipsoid = options.ellipsoid;\r\n        var semiMajorAxis = options.semiMajorAxis;\r\n        var scaledNormal = Cartesian3.multiplyByScalar(ellipsoid.geodeticSurfaceNormal(center, scratchCartesian1), options.height, scratchCartesian1);\r\n        topBoundingSphere.center = Cartesian3.add(center, scaledNormal, topBoundingSphere.center);\r\n        topBoundingSphere.radius = semiMajorAxis;\r\n\r\n        scaledNormal = Cartesian3.multiplyByScalar(ellipsoid.geodeticSurfaceNormal(center, scaledNormal), options.extrudedHeight, scaledNormal);\r\n        bottomBoundingSphere.center = Cartesian3.add(center, scaledNormal, bottomBoundingSphere.center);\r\n        bottomBoundingSphere.radius = semiMajorAxis;\r\n\r\n        var positions = EllipseGeometryLibrary.computeEllipsePositions(options, false, true).outerPositions;\r\n        var attributes = new GeometryAttributes({\r\n            position: new GeometryAttribute({\r\n                componentDatatype : ComponentDatatype.DOUBLE,\r\n                componentsPerAttribute : 3,\r\n                values : EllipseGeometryLibrary.raisePositionsToHeight(positions, options, true)\r\n            })\r\n        });\r\n\r\n        positions = attributes.position.values;\r\n        var boundingSphere = BoundingSphere.union(topBoundingSphere, bottomBoundingSphere);\r\n        var length = positions.length/3;\r\n\r\n        if (defined(options.offsetAttribute)) {\r\n            var applyOffset = new Uint8Array(length);\r\n            if (options.offsetAttribute === GeometryOffsetAttribute.TOP) {\r\n                applyOffset = arrayFill(applyOffset, 1, 0, length / 2);\r\n            } else {\r\n                var offsetValue = options.offsetAttribute === GeometryOffsetAttribute.NONE ? 0 : 1;\r\n                applyOffset = arrayFill(applyOffset, offsetValue);\r\n            }\r\n\r\n            attributes.applyOffset = new GeometryAttribute({\r\n                componentDatatype : ComponentDatatype.UNSIGNED_BYTE,\r\n                componentsPerAttribute : 1,\r\n                values: applyOffset\r\n            });\r\n        }\r\n\r\n        var numberOfVerticalLines = defaultValue(options.numberOfVerticalLines, 16);\r\n        numberOfVerticalLines = CesiumMath.clamp(numberOfVerticalLines, 0, length/2);\r\n\r\n        var indices = IndexDatatype.createTypedArray(length, length * 2 + numberOfVerticalLines * 2);\r\n\r\n        length /= 2;\r\n        var index = 0;\r\n        var i;\r\n        for (i = 0; i < length; ++i) {\r\n            indices[index++] = i;\r\n            indices[index++] = (i + 1) % length;\r\n            indices[index++] = i + length;\r\n            indices[index++] = ((i + 1) % length) + length;\r\n        }\r\n\r\n        var numSide;\r\n        if (numberOfVerticalLines > 0) {\r\n            var numSideLines = Math.min(numberOfVerticalLines, length);\r\n            numSide = Math.round(length / numSideLines);\r\n\r\n            var maxI = Math.min(numSide * numberOfVerticalLines, length);\r\n            for (i = 0; i < maxI; i += numSide) {\r\n                indices[index++] = i;\r\n                indices[index++] = i + length;\r\n            }\r\n        }\r\n\r\n        return {\r\n            boundingSphere : boundingSphere,\r\n            attributes : attributes,\r\n            indices : indices\r\n        };\r\n    }\r\n\r\n    /**\r\n     * A description of the outline of an ellipse on an ellipsoid.\r\n     *\r\n     * @alias EllipseOutlineGeometry\r\n     * @constructor\r\n     *\r\n     * @param {Object} options Object with the following properties:\r\n     * @param {Cartesian3} options.center The ellipse's center point in the fixed frame.\r\n     * @param {Number} options.semiMajorAxis The length of the ellipse's semi-major axis in meters.\r\n     * @param {Number} options.semiMinorAxis The length of the ellipse's semi-minor axis in meters.\r\n     * @param {Ellipsoid} [options.ellipsoid=Ellipsoid.WGS84] The ellipsoid the ellipse will be on.\r\n     * @param {Number} [options.height=0.0] The distance in meters between the ellipse and the ellipsoid surface.\r\n     * @param {Number} [options.extrudedHeight] The distance in meters between the ellipse's extruded face and the ellipsoid surface.\r\n     * @param {Number} [options.rotation=0.0] The angle from north (counter-clockwise) in radians.\r\n     * @param {Number} [options.granularity=0.02] The angular distance between points on the ellipse in radians.\r\n     * @param {Number} [options.numberOfVerticalLines=16] Number of lines to draw between the top and bottom surface of an extruded ellipse.\r\n     *\r\n     * @exception {DeveloperError} semiMajorAxis and semiMinorAxis must be greater than zero.\r\n     * @exception {DeveloperError} semiMajorAxis must be greater than or equal to the semiMinorAxis.\r\n     * @exception {DeveloperError} granularity must be greater than zero.\r\n     *\r\n     * @see EllipseOutlineGeometry.createGeometry\r\n     *\r\n     * @example\r\n     * var ellipse = new Cesium.EllipseOutlineGeometry({\r\n     *   center : Cesium.Cartesian3.fromDegrees(-75.59777, 40.03883),\r\n     *   semiMajorAxis : 500000.0,\r\n     *   semiMinorAxis : 300000.0,\r\n     *   rotation : Cesium.Math.toRadians(60.0)\r\n     * });\r\n     * var geometry = Cesium.EllipseOutlineGeometry.createGeometry(ellipse);\r\n     */\r\n    function EllipseOutlineGeometry(options) {\r\n        options = defaultValue(options, defaultValue.EMPTY_OBJECT);\r\n\r\n        var center = options.center;\r\n        var ellipsoid = defaultValue(options.ellipsoid, Ellipsoid.WGS84);\r\n        var semiMajorAxis = options.semiMajorAxis;\r\n        var semiMinorAxis = options.semiMinorAxis;\r\n        var granularity = defaultValue(options.granularity, CesiumMath.RADIANS_PER_DEGREE);\r\n\r\n        //>>includeStart('debug', pragmas.debug);\r\n        if (!defined(center)) {\r\n            throw new DeveloperError('center is required.');\r\n        }\r\n        if (!defined(semiMajorAxis)) {\r\n            throw new DeveloperError('semiMajorAxis is required.');\r\n        }\r\n        if (!defined(semiMinorAxis)) {\r\n            throw new DeveloperError('semiMinorAxis is required.');\r\n        }\r\n        if (semiMajorAxis < semiMinorAxis) {\r\n            throw new DeveloperError('semiMajorAxis must be greater than or equal to the semiMinorAxis.');\r\n        }\r\n        if (granularity <= 0.0) {\r\n            throw new DeveloperError('granularity must be greater than zero.');\r\n        }\r\n        //>>includeEnd('debug');\r\n\r\n        var height = defaultValue(options.height, 0.0);\r\n        var extrudedHeight = defaultValue(options.extrudedHeight, height);\r\n\r\n        this._center = Cartesian3.clone(center);\r\n        this._semiMajorAxis = semiMajorAxis;\r\n        this._semiMinorAxis = semiMinorAxis;\r\n        this._ellipsoid = Ellipsoid.clone(ellipsoid);\r\n        this._rotation = defaultValue(options.rotation, 0.0);\r\n        this._height = Math.max(extrudedHeight, height);\r\n        this._granularity = granularity;\r\n        this._extrudedHeight = Math.min(extrudedHeight, height);\r\n        this._numberOfVerticalLines = Math.max(defaultValue(options.numberOfVerticalLines, 16), 0);\r\n        this._offsetAttribute = options.offsetAttribute;\r\n        this._workerName = 'createEllipseOutlineGeometry';\r\n    }\r\n\r\n    /**\r\n     * The number of elements used to pack the object into an array.\r\n     * @type {Number}\r\n     */\r\n    EllipseOutlineGeometry.packedLength = Cartesian3.packedLength + Ellipsoid.packedLength + 8;\r\n\r\n    /**\r\n     * Stores the provided instance into the provided array.\r\n     *\r\n     * @param {EllipseOutlineGeometry} value The value to pack.\r\n     * @param {Number[]} array The array to pack into.\r\n     * @param {Number} [startingIndex=0] The index into the array at which to start packing the elements.\r\n     *\r\n     * @returns {Number[]} The array that was packed into\r\n     */\r\n    EllipseOutlineGeometry.pack = function(value, array, startingIndex) {\r\n        //>>includeStart('debug', pragmas.debug);\r\n        if (!defined(value)) {\r\n            throw new DeveloperError('value is required');\r\n        }\r\n        if (!defined(array)) {\r\n            throw new DeveloperError('array is required');\r\n        }\r\n        //>>includeEnd('debug');\r\n\r\n        startingIndex = defaultValue(startingIndex, 0);\r\n\r\n        Cartesian3.pack(value._center, array, startingIndex);\r\n        startingIndex += Cartesian3.packedLength;\r\n\r\n        Ellipsoid.pack(value._ellipsoid, array, startingIndex);\r\n        startingIndex += Ellipsoid.packedLength;\r\n\r\n        array[startingIndex++] = value._semiMajorAxis;\r\n        array[startingIndex++] = value._semiMinorAxis;\r\n        array[startingIndex++] = value._rotation;\r\n        array[startingIndex++] = value._height;\r\n        array[startingIndex++] = value._granularity;\r\n        array[startingIndex++] = value._extrudedHeight;\r\n        array[startingIndex++]   = value._numberOfVerticalLines;\r\n        array[startingIndex] = defaultValue(value._offsetAttribute, -1);\r\n\r\n        return array;\r\n    };\r\n\r\n    var scratchCenter = new Cartesian3();\r\n    var scratchEllipsoid = new Ellipsoid();\r\n    var scratchOptions = {\r\n        center : scratchCenter,\r\n        ellipsoid : scratchEllipsoid,\r\n        semiMajorAxis : undefined,\r\n        semiMinorAxis : undefined,\r\n        rotation : undefined,\r\n        height : undefined,\r\n        granularity : undefined,\r\n        extrudedHeight : undefined,\r\n        numberOfVerticalLines : undefined,\r\n        offsetAttribute: undefined\r\n    };\r\n\r\n    /**\r\n     * Retrieves an instance from a packed array.\r\n     *\r\n     * @param {Number[]} array The packed array.\r\n     * @param {Number} [startingIndex=0] The starting index of the element to be unpacked.\r\n     * @param {EllipseOutlineGeometry} [result] The object into which to store the result.\r\n     * @returns {EllipseOutlineGeometry} The modified result parameter or a new EllipseOutlineGeometry instance if one was not provided.\r\n     */\r\n    EllipseOutlineGeometry.unpack = function(array, startingIndex, result) {\r\n        //>>includeStart('debug', pragmas.debug);\r\n        if (!defined(array)) {\r\n            throw new DeveloperError('array is required');\r\n        }\r\n        //>>includeEnd('debug');\r\n\r\n        startingIndex = defaultValue(startingIndex, 0);\r\n\r\n        var center = Cartesian3.unpack(array, startingIndex, scratchCenter);\r\n        startingIndex += Cartesian3.packedLength;\r\n\r\n        var ellipsoid = Ellipsoid.unpack(array, startingIndex, scratchEllipsoid);\r\n        startingIndex += Ellipsoid.packedLength;\r\n\r\n        var semiMajorAxis = array[startingIndex++];\r\n        var semiMinorAxis = array[startingIndex++];\r\n        var rotation = array[startingIndex++];\r\n        var height = array[startingIndex++];\r\n        var granularity = array[startingIndex++];\r\n        var extrudedHeight = array[startingIndex++];\r\n        var numberOfVerticalLines = array[startingIndex++];\r\n        var offsetAttribute = array[startingIndex];\r\n\r\n        if (!defined(result)) {\r\n            scratchOptions.height = height;\r\n            scratchOptions.extrudedHeight = extrudedHeight;\r\n            scratchOptions.granularity = granularity;\r\n            scratchOptions.rotation = rotation;\r\n            scratchOptions.semiMajorAxis = semiMajorAxis;\r\n            scratchOptions.semiMinorAxis = semiMinorAxis;\r\n            scratchOptions.numberOfVerticalLines = numberOfVerticalLines;\r\n            scratchOptions.offsetAttribute = offsetAttribute === -1 ? undefined : offsetAttribute;\r\n\r\n            return new EllipseOutlineGeometry(scratchOptions);\r\n        }\r\n\r\n        result._center = Cartesian3.clone(center, result._center);\r\n        result._ellipsoid = Ellipsoid.clone(ellipsoid, result._ellipsoid);\r\n        result._semiMajorAxis = semiMajorAxis;\r\n        result._semiMinorAxis = semiMinorAxis;\r\n        result._rotation = rotation;\r\n        result._height = height;\r\n        result._granularity = granularity;\r\n        result._extrudedHeight = extrudedHeight;\r\n        result._numberOfVerticalLines = numberOfVerticalLines;\r\n        result._offsetAttribute = offsetAttribute === -1 ? undefined : offsetAttribute;\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Computes the geometric representation of an outline of an ellipse on an ellipsoid, including its vertices, indices, and a bounding sphere.\r\n     *\r\n     * @param {EllipseOutlineGeometry} ellipseGeometry A description of the ellipse.\r\n     * @returns {Geometry|undefined} The computed vertices and indices.\r\n     */\r\n    EllipseOutlineGeometry.createGeometry = function(ellipseGeometry) {\r\n        if ((ellipseGeometry._semiMajorAxis <= 0.0) || (ellipseGeometry._semiMinorAxis <= 0.0)) {\r\n            return;\r\n        }\r\n\r\n        var height = ellipseGeometry._height;\r\n        var extrudedHeight = ellipseGeometry._extrudedHeight;\r\n        var extrude = !CesiumMath.equalsEpsilon(height, extrudedHeight, 0, CesiumMath.EPSILON2);\r\n\r\n        ellipseGeometry._center = ellipseGeometry._ellipsoid.scaleToGeodeticSurface(ellipseGeometry._center, ellipseGeometry._center);\r\n        var options = {\r\n            center : ellipseGeometry._center,\r\n            semiMajorAxis : ellipseGeometry._semiMajorAxis,\r\n            semiMinorAxis : ellipseGeometry._semiMinorAxis,\r\n            ellipsoid : ellipseGeometry._ellipsoid,\r\n            rotation : ellipseGeometry._rotation,\r\n            height : height,\r\n            granularity : ellipseGeometry._granularity,\r\n            numberOfVerticalLines : ellipseGeometry._numberOfVerticalLines\r\n        };\r\n        var geometry;\r\n        if (extrude) {\r\n            options.extrudedHeight = extrudedHeight;\r\n            options.offsetAttribute = ellipseGeometry._offsetAttribute;\r\n            geometry = computeExtrudedEllipse(options);\r\n        } else {\r\n            geometry = computeEllipse(options);\r\n\r\n            if (defined(ellipseGeometry._offsetAttribute)) {\r\n                var length = geometry.attributes.position.values.length;\r\n                var applyOffset = new Uint8Array(length / 3);\r\n                var offsetValue = ellipseGeometry._offsetAttribute === GeometryOffsetAttribute.NONE ? 0 : 1;\r\n                arrayFill(applyOffset, offsetValue);\r\n                geometry.attributes.applyOffset = new GeometryAttribute({\r\n                    componentDatatype : ComponentDatatype.UNSIGNED_BYTE,\r\n                    componentsPerAttribute : 1,\r\n                    values: applyOffset\r\n                });\r\n            }\r\n        }\r\n\r\n        return new Geometry({\r\n            attributes : geometry.attributes,\r\n            indices : geometry.indices,\r\n            primitiveType : PrimitiveType.LINES,\r\n            boundingSphere : geometry.boundingSphere,\r\n            offsetAttribute : ellipseGeometry._offsetAttribute\r\n        });\r\n    };\r\nexport default EllipseOutlineGeometry;\r\n"],"names":["Cartesian3","BoundingSphere","EllipseGeometryLibrary","GeometryAttributes","GeometryAttribute","ComponentDatatype","IndexDatatype","defined","GeometryOffsetAttribute","arrayFill","defaultValue","CesiumMath","Ellipsoid","DeveloperError","Geometry","PrimitiveType"],"mappings":"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"}